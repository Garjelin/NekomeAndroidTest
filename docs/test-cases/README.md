# –¢–µ—Å—Ç-–∫–µ–π—Å—ã Nekome Android

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç-–∫–µ–π—Å–æ–≤ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Nekome.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
docs/
‚îî‚îÄ‚îÄ test-cases/
    ‚îú‚îÄ‚îÄ README.md                              # –≠—Ç–æ—Ç —Ñ–∞–π–ª
    ‚îú‚îÄ‚îÄ TC-001-Collection-Screen-Elements.md   # –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —ç–∫—Ä–∞–Ω–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
    ‚îî‚îÄ‚îÄ screenshots/                           # –°–∫—Ä–∏–Ω—à–æ—Ç—ã –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
```

## –°–ø–∏—Å–æ–∫ —Ç–µ—Å—Ç-–∫–µ–π—Å–æ–≤

### Smoke —Ç–µ—Å—Ç—ã

| ID | –ù–∞–∑–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è |
|----|----------|---------|-----------|---------------|
| TC-001 | –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —ç–∫—Ä–∞–Ω–∞ Collection | ‚úÖ | –í—ã—Å–æ–∫–∏–π | ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω |
| TC-002 | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å–µ—Ä–∏–π | üîÑ | –í—ã—Å–æ–∫–∏–π | ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω |

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —Ç–µ—Å—Ç-–∫–µ–π—Å—ã

| ID | –ù–∞–∑–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|----|----------|---------|-----------|
| TC-003 | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏ | üìã –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω | –°—Ä–µ–¥–Ω–∏–π |
| TC-004 | –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ | üìã –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω | –°—Ä–µ–¥–Ω–∏–π |
| TC-005 | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Å–µ—Ä–∏–∏ —á–µ—Ä–µ–∑ –ø–æ–∏—Å–∫ | üìã –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω | –í—ã—Å–æ–∫–∏–π |
| TC-006 | –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–∏–∏ | üìã –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω | –°—Ä–µ–¥–Ω–∏–π |
| TC-007 | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ | üìã –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω | –í—ã—Å–æ–∫–∏–π |

## –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–µ—Å—Ç-–∫–µ–π—Å–æ–≤ –∏ –∫–æ–¥–∞

| –¢–µ—Å—Ç-–∫–µ–π—Å | –¢–µ—Å—Ç–æ–≤—ã–π –∫–ª–∞—Å—Å | –ú–µ—Ç–æ–¥ |
|-----------|----------------|-------|
| TC-001 | `CollectionScreenTest.kt` | `checkAllCollectionScreenElements()` |
| TC-002 | `CollectionScreenTest.kt` | `refreshButtonUpdatesSeriesList()` |

## –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Kaspresso** - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è UI —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **Kakao Compose** - DSL –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Jetpack Compose
- **Hilt** - dependency injection –¥–ª—è —Ç–µ—Å—Ç–æ–≤
- **JUnit4** - test runner

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

```
app/src/androidTest/
‚îú‚îÄ‚îÄ java/com/chesire/nekome/
‚îÇ   ‚îú‚îÄ‚îÄ base/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ BaseComposeTest.kt           # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ helpers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Users.kt                     # Enum —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ scenario/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ Login.kt                 # –°—Ü–µ–Ω–∞—Ä–∏–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ pageobjects/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LoginScreen.kt               # Page Object –¥–ª—è —ç–∫—Ä–∞–Ω–∞ –ª–æ–≥–∏–Ω–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ CollectionScreen.kt          # Page Object –¥–ª—è —ç–∫—Ä–∞–Ω–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ tests/
‚îÇ       ‚îú‚îÄ‚îÄ LoginFlowComposeTest.kt      # –¢–µ—Å—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îÇ       ‚îî‚îÄ‚îÄ CollectionScreenTest.kt      # –¢–µ—Å—Ç—ã —ç–∫—Ä–∞–Ω–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
```

## –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### Page Object Pattern

–ö–∞–∂–¥—ã–π —ç–∫—Ä–∞–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω Page Object –∫–ª–∞—Å—Å–æ–º:

```kotlin
class CollectionScreen(semanticsProvider: SemanticsNodeInteractionsProvider) :
    BaseComposeScreen<CollectionScreen>(semanticsProvider) {
    
    val filterButton: KNode = createNode(SeriesCollectionTags.MenuFilter)
    val sortButton: KNode = createNode(SeriesCollectionTags.MenuSort)
    // ...
}
```

### Scenario Pattern

–ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –¥–µ–π—Å—Ç–≤–∏—è –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ —Å—Ü–µ–Ω–∞—Ä–∏–∏:

```kotlin
class Login(
    private val user: Users,
    private val semanticsProvider: SemanticsNodeInteractionsProvider
) : Scenario()
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```kotlin
scenario(Login(TEST_USER_1, composeTestRule))
```

### DSL Style

–¢–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç DSL –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏:

```kotlin
CollectionScreen {
    filterButton {
        flakySafely(10_000) {
            assertIsDisplayed()
            assertIsEnabled()
        }
    }
}
```

## –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

### –í—Å–µ —Ç–µ—Å—Ç—ã
```bash
./gradlew connectedDebugAndroidTest
```

### –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
```bash
./gradlew connectedDebugAndroidTest --tests "com.chesire.nekome.tests.CollectionScreenTest.checkAllCollectionScreenElements"
```

### –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–ª–∞—Å—Å
```bash
./gradlew connectedDebugAndroidTest --tests "com.chesire.nekome.tests.CollectionScreenTest"
```

## –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

–û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ `Users.kt`:

```kotlin
enum class Users(val login: String, val password: String) {
    TEST_USER_1("testprofdepo@gmail.com", "Qwerty123"),
    TEST_USER_2("testprofdepo2@gmail.com", "Qwerty123"),
}
```

## –ü—Ä–∞–≤–∏–ª–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Page Objects** - –Ω–µ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ UI —ç–ª–µ–º–µ–Ω—Ç–∞–º –Ω–∞–ø—Ä—è–º—É—é
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Scenarios** - –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –¥–µ–π—Å—Ç–≤–∏–π (–ª–æ–≥–∏–Ω, –Ω–∞–≤–∏–≥–∞—Ü–∏—è)
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ flakySafely** - –¥–ª—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –∫ –≤—Ä–µ–º–µ–Ω–Ω—ã–º –∑–∞–¥–µ—Ä–∂–∫–∞–º
4. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Ç–µ—Å—Ç—ã** - –∫–∞–∂–¥—ã–π —Ç–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º
5. **–°–ª–µ–¥—É–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ** - —Ç–µ—Å—Ç-–∫–µ–π—Å –≤ .md ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –≤ .kt

## –û—Ç—á–µ—Ç—ã

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –æ—Ç—á–µ—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã –≤:
```
app/build/reports/androidTests/connected/
```

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

- **–ö–æ–º–∞–Ω–¥–∞ QA**: [qa@team.com](mailto:qa@team.com)
- **CI/CD**: Jenkins / GitHub Actions
- **Bug Tracker**: Jira / GitHub Issues

